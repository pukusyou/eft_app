var driver=new Driver({stageBackground:"#3d648a",nextBtnText:"\u6b21\u3078",prevBtnText:"\u623b\u308b",closeBtnText:"\u9589\u3058\u308b",doneBtnText:"\u5b8c\u4e86",padding:5});jQuery(function(){var a=null!=getParam("check")?getParam("check"):localStorage.getItem("tasks");a=decompressBinary(a);var b=0;$("input[type=checkbox][name=task]").each(function(){"A"==a[b++]&&$(this).prop("checked",!0)})});$(document).on("click","input",function(){localStorage.setItem("tasks",compress())});
$(document).on("click",'[id$="_button"]',function(){var a="."+this.id.replace("_button",""),b=window[this.id.replace("_button","_bool")];"undefined"===typeof b&&(b=!1);window[this.id.replace("_button","_bool")]=all_check(a,b)});function all_check(a,b){$(a+"_task").each(function(){"none"!=$(this).css("display")&&($(this).find(a).prop("checked",b),localStorage.setItem("tasks",compress()))});console.log(b);return!b}
driver.defineSteps([{element:"#prapor",popover:{title:"1.\u30bf\u30b9\u30af\u3092\u9078\u629e",description:"\u5404\u30c7\u30a3\u30fc\u30e9\u30fc\u306e\u5b8c\u4e86\u3057\u3066\u3044\u308b\u30bf\u30b9\u30af\u306b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059",position:"right"}},{element:"#prapor_button",popover:{title:"2.\u5168\u9078\u629e",description:"\u5168\u9078\u629e\u3001\u9078\u629e\u89e3\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059"}},{element:"#submit",popover:{title:"3.\u6c7a\u5b9a",
description:"\u5b8c\u4e86\u3057\u305f\u30bf\u30b9\u30af\u3092\u9078\u629e\u3057\u7d42\u3048\u305f\u3089\u6c7a\u5b9a\u3057\u307e\u3059",position:"left"}}]);function compress(){var a=[];$("input[type=checkbox][name=task]").each(function(){this.checked?a.push("A"):a.push("B")});return compressBinary(a.join(""))}function compressBinary(a){let b="",d=1;for(let c=1;c<a.length;c++)a[c]===a[c-1]?d++:(b+=d+a[c-1],d=1);return b+=d+a[a.length-1]}
function decompressBinary(a){let b="",d="";if(null!=a){for(let c=0;c<a.length;c++)if(isNaN(parseInt(a[c]))){for(let e=0;e<parseInt(d);e++)b+=a[c];d=""}else d+=a[c];return b}}$(document).on("click","#setting",function(){$("#url").val("https://pukusyou.com/task/?check="+compress());$(document).on("click","#copy",function(){navigator.clipboard.writeText($("#url").val());$(".success-msg").fadeIn("slow",function(){$(this).delay(2E3).fadeOut("slow")})})});
function getParam(a,b){b||(b=window.location.href);a=a.replace(/[\[\]]/g,"\\$&");return(a=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(b))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function toggle(a){all_dealer="prapor therapist skier peacekeeper mechanic ragman jaeger".split(" ");all_dealer.forEach(b=>{a==b||"all"==a?$("#"+b).show():$("#"+b).hide()})}$(document).on("input","#prapor_search",function(a){search("prapor")});$(document).on("input","#therapist_search",function(a){search("therapist")});
$(document).on("input","#skier_search",function(a){search("skier")});$(document).on("input","#peacekeeper_search",function(a){search("peacekeeper")});$(document).on("input","#mechanic_search",function(a){search("mechanic")});$(document).on("input","#ragman_search",function(a){search("ragman")});$(document).on("input","#jaeger_search",function(a){search("jaeger")});
function search(a){$("."+a+"_task").each(function(){0>=$("#"+a+"_search").val().length?$(this).show():-1==$(this).find("label").text().toUpperCase().replace(" ","").indexOf($("#"+a+"_search").val().toUpperCase().replace(" ",""))?$(this).hide():$(this).show()})};
